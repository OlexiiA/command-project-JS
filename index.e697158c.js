!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r);var i=r("dIxxU"),s=r("1VFfL"),o=r("f2Ar2");i=r("dIxxU");async function c(e,t){const n=`?api_key=2913964819360854cc0ff757d62600b5&query=${e}&language=en-US&page=${t}&include_adult=false`;return await i.default.get(`https://api.themoviedb.org/3/search/movie${n}`).then((e=>e.data))}const l="api_key=2913964819360854cc0ff757d62600b5",d={currentPage:1,keyWord:"",paginationBox:document.querySelector(".tui-pagination")};async function u(e,t,n,a){try{return await i.default.get(`https://api.themoviedb.org/3/trending/${t}/${n}?${e}&page=${a}`)}catch(e){console.error(e)}}function p(){window.scrollTo({top:0,left:0,behavior:"smooth"})}u(l,"movie","week",d.currentPage).then((e=>{(0,o.addMarkup)(e.data.results),_.reset(e.data.total_results)}));const g=document.querySelector(".film-card"),f=document.getElementById("pagination"),m={totalItems:20,itemsPerPage:20,visiblePages:3,page:d.currentPage,centerAlign:!1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}},_=new(e(s))(f,m);_.on("beforeMove",(e=>{d.currentPage=e.page,g.innerHTML="",u(l,"movie","week",d.currentPage).then((e=>{(0,o.addMarkup)(e.data.results)})).then(p())}));const h=new(e(s))(f,m),y={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},v=document.querySelector("form#search-form"),b=document.querySelector(".film-card");let w="";v.addEventListener("submit",(async function(e){if(e.preventDefault(),d.currentPage=1,w=e.currentTarget.searchQuery.value.trim(),""===w)return;const t=await c(w,d.currentPage);try{t.total_results>0?($(t.results),h.reset(t.total_results),h.on("beforeMove",(e=>{d.currentPage=e.page;c(w,d.currentPage).then((e=>{$(e.results)})).then(p())}))):b.innerHTML='<li>\n            <img class="allert-box" src="https://i.postimg.cc/BnKVk1zL/sorry.jpg"></img>\n            </li>'}catch(e){console.log(e)}v.reset()}));function $(e){const t=e.map((({poster_path:e,release_date:t,title:n,genre_ids:a,id:r})=>{let i=`https://image.tmdb.org/t/p/w780${e}`;null===e&&(i="https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png");let s=t.slice(0,4),o=[];return a.forEach((e=>{o.push(y[e])})),`<li class="card gallery__item" id="${r}" >\n    <a href="#" class="card__link">\n        <div class="card__wrapper-img">\n        <img class="card__img" src="${i}">\n        </div>\n        <div class="card__wrapper">\n        <h3 class="card__title">${n}</h3>\n        <p class="card__info">${o.map((e=>e)).join(", ")} | <span class="card__info-genre">${s}</span></p>\n        </div>\n    </a>\n  </li>`})).join("");b.innerHTML="",b.insertAdjacentHTML("beforeend",t)}const M=new(e(s))(f,m),P=document.querySelector(".genres-btn"),k=document.querySelector(".genre-filter");let x=[];async function T(e,t){return await i.default.get(`https://api.themoviedb.org/3/discover/movie?api_key=2913964819360854cc0ff757d62600b5&with_genres=${e}&page=${t}`)}P.addEventListener("click",(async function(e){e.preventDefault(),d.currentPage=1;let t=x.map((e=>e)).join(",");T(t,d.currentPage).then((e=>q(e.data.results))),M.on("beforeMove",(e=>{d.currentPage=e.page,L.innerHTML="",T(t,d.currentPage).then((e=>{q(e.data.results)})).then(p())}))})),k.addEventListener("change",(function(e){x.includes(e.target.id)?x.splice(x.indexOf("event.target.id",1)):x.push(e.target.id)}));const L=document.querySelector(".film-card");function q(e){const t=e.map((({title:e,release_date:t,poster_path:n,genre_ids:a,id:r})=>{let i=t.slice(0,4);null===n&&(poster="https://upload.wikimedia.org/wikipedia/commons/2/26/512pxIcon-sunset_photo_not_found.png");let s=[];return a.forEach((e=>{s.push(y[e])})),`<li class="card gallery__item rotateY" id="${r}">\n      <a href="#" class="card__link">\n         <div class="card__wrapper-img">\n         <img class="card__img" src="https://image.tmdb.org/t/p/w780/${n}" alt="movie's poster">\n         </div>\n         <div class="card__wrapper">\n         <h3 class="card__title">${e}</h3>\n         <p class="card__info">${s.map((e=>e)).join(", ")} | <span class="card__info-genre">${i}</span></p>\n         </div>\n      </a>\n   </li>`})).join("");L.innerHTML=t}}();
//# sourceMappingURL=index.e697158c.js.map
